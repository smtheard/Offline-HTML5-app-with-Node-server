<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for c:/Users/Stefan/Desktop/School/Internet Computing/Main Repository/project/javascripts/scripts.js</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../../../../../../../../../prettify.css">
    <link rel="stylesheet" href="../../../../../../../../../base.css">
    <style type='text/css'>
        div.coverage-summary .sorter {
            background-image: url(../../../../../../../../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class="header high">
    <h1>Code coverage report for <span class="entity">c:/Users/Stefan/Desktop/School/Internet Computing/Main Repository/project/javascripts/scripts.js</span></h1>
    <h2>
        Statements: <span class="metric">95.16% <small>(59 / 62)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Branches: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Functions: <span class="metric">82.35% <small>(14 / 17)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Lines: <span class="metric">98.33% <small>(59 / 60)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../../../../../../index.html">All files</a> &#187; <a href="index.html">c:/Users/Stefan/Desktop/School/Internet Computing/Main Repository/project/javascripts/</a> &#187; scripts.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106</td><td class="line-coverage"><span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">9</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">9</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">9</span>
<span class="cline-any cline-yes">9</span>
<span class="cline-any cline-yes">9</span>
<span class="cline-any cline-yes">9</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">var getGeoLocation = function(displayLat, hiddenLat, displayLong, hiddenLong, displayAlt, hiddenAlt) {
&nbsp;
	var locationInfo = function(position) {
		var latitude = position.coords.latitude;
		var longitude = position.coords.longitude;
		var altitude = position.coords.altitude;
&nbsp;
		displayLat.innerHTML = latitude;
		hiddenLat.value = latitude;
		displayLong.innerHTML = longitude;
		hiddenLong.value = longitude;
		displayAlt.innerHTML = altitude;
		hiddenAlt.value = altitude;
&nbsp;
	};
&nbsp;
	var locationInfoError = function(error) {
		var errorMessage = ['',
		'Permission denied',
		'Position unavailable',
		'timeout'];
&nbsp;
		console.log('error receiving location info: ' + errorMessage[error.code]);
		displayLat.innerHTML = 'error receiving location info.';
		displayLong.innerHTML = 'error receiving location info.';
		displayAlt.innerHTML = 'error receiving location info.';
	};
&nbsp;
	displayLat.innerHTML = 'loading...';
	displayLong.innerHTML = 'loading...';
	displayAlt.innerHTML = 'loading...';
	navigator.geolocation.getCurrentPosition(locationInfo, locationInfoError);
};
&nbsp;
var storeData = function(jsonData, locStorage) {
	localStorage.setItem(locStorage, JSON.stringify(jsonData));
};
&nbsp;
var getCurrentDate = function(date) {
	var today = new Date();
	date.value = [(today.getMonth() + 1), today.getDate(), today.getFullYear()].join('/');
}
&nbsp;
var formatData = function(data) {
	var jsonData = {};
	data.forEach(function(element) {
		jsonData[element.name] = element.value;
	});
	return jsonData;
};
			
var initiateSuccessFunc = function(spanElement, dateElement) {
	
	var successFunc = function(message) {
		getCurrentDate(dateElement);
		$('.reset').val('');
		$('.resetHTML').html('');
		spanElement.innerHTML = message;
		setTimeout(<span class="fstat-no" title="function not covered" >function() {<span class="cstat-no" title="statement not covered" ></span>spanElement.innerHTML = ''}</span>, 3000);
	};
&nbsp;
	return successFunc;
};
&nbsp;
var initiateErrorFunc = function(jsonData, spanElement, dateElement) {
&nbsp;
	var errorFunc = function(error) {
		getCurrentDate(dateElement);
		$('.reset').val('');
		$('.resetHTML').html('');
		spanElement.innerHTML = 'You appear offline. &lt;br&gt; Your work order has been saved locally. &lt;br&gt; Submission of work order will take place as soon as you come back online.';
		setTimeout(<span class="fstat-no" title="function not covered" >function() {<span class="cstat-no" title="statement not covered" ></span>spanElement.innerHTML = ''}</span>, 5000);
		var uniqueFormIdentity = jsonData.firstName + jsonData.lastName + jsonData.Description;
		storeData(jsonData, uniqueFormIdentity);
		sendCachedData(uniqueFormIdentity, spanElement, dateElement);
	};
&nbsp;
	return errorFunc;
};
&nbsp;
var ajaxCall = function(jsonData, spanElement, dateElement) {
	var options = {
		url :'/ajaxcall',
		type: 'POST',
		success: initiateSuccessFunc(spanElement, dateElement),
		error: initiateErrorFunc(jsonData, spanElement, dateElement),
		data: jsonData
	}
	$.ajax(options);
};
&nbsp;
var callSendCache = function(locStorage, spanElement, dateElement) {
	sendCachedData(locStorage, spanElement, dateElement);
};
&nbsp;
var sendCachedData = function(locStorage, spanElement, dateElement) {
	console.log('attempting to send cached data');
	var options = {
		url: '/ajaxCall',
		type: 'POST',
		success: console.log('cached data sent to server!'), 
		error: <span class="fstat-no" title="function not covered" >function() {<span class="cstat-no" title="statement not covered" ></span>setTimeout(callSendCache(locStorage, spanElement, dateElement), 5000)}</span>,
		data: JSON.parse(localStorage[locStorage])
	}
	$.ajax(options);
};</pre></td></tr>
</table></pre>

</div>
<div class="footer">
    <div class="meta">Generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Mon Aug 10 2015 22:13:52 GMT-0500 (Central Daylight Time)</div>
</div>
<script src="../../../../../../../../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../../../../../../../../sorter.js"></script>
</body>
</html>
